"use strict";(self["webpackChunkverse"]=self["webpackChunkverse"]||[]).push([[0],{8e3:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return null!=e.pod?t("b-container",[t("b-row",{staticClass:"my-3"},[t("h4",[e._v("Collaboration & Fork on other Workspaces")]),null==e.space?t("b-btn",{staticClass:"mx-2",attrs:{variant:"outline-primary",size:"sm"},on:{click:e.add}},[e._v("+ add a workspace")]):e._e(),t("b-button",{staticClass:"mx-2",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(s){return e.exploreFriendsWorkspaces(e.pod.friends)}}},[e._v(" explore "+e._s(e.pod.friends.length)+" friends")]),e.loading>0?t("span",{staticClass:"mx-2"},[e._v("Loading : "+e._s(e.loading))]):e._e()],1),null!=e.space?t("b-row",[t("b-form-input",{attrs:{placeholder:"workspace name",autofocus:""},model:{value:e.space.name,callback:function(s){e.$set(e.space,"name",s)},expression:"space.name"}}),t("b-form-input",{attrs:{placeholder:"workspace url"},model:{value:e.space.url,callback:function(s){e.$set(e.space,"url",s)},expression:"space.url"}}),t("b-button",{attrs:{variant:"outline-warning"},on:{click:e.cancel}},[e._v("Cancel")]),t("b-button",{attrs:{variant:"outline-success"},on:{click:e.save}},[e._v("Add it")])],1):e._e(),t("b-list-group",[t("b-list-group-item",{attrs:{button:"",variant:"success"},on:{click:function(s){return e.use()}}},[t("b",[e._v("Default")]),e._v(" "+e._s(e.pod.storage)+"public/neurones/")]),e._l(e.workspaces,(function(s){return t("b-list-group-item",{key:s.url,attrs:{button:""},on:{click:function(t){return e.use(s)}}},[t("b",[e._v(e._s(s.name))]),e._v(" "+e._s(s.url)+" ("+e._s(void 0!=s.nodes?s.nodes.length:"--")+") ")])}))],2),null!=e.currentWorkspace?t("div",[t("h1",[e._v(e._s(e.currentWorkspace.name))]),t("small",[e._v(e._s(e.currentWorkspace.url))]),t("b-row",e._l(e.currentWorkspace.nodes,(function(s,n){return t("b-col",{key:n},[t("NodeComponent",{attrs:{node:s},on:{delete:e.deleteNode,edit:e.editNode}})],1)})),1)],1):e._e(),t("hr"),e.friends_pods.length>0?t("b-card-group",{attrs:{columns:""}},e._l(e.friends_pods,(function(s){return t("b-card",{key:s.webId},[null!=s.photo?t("b-card-img-lazy",{staticClass:"mb-3",attrs:{src:s.photo,alt:s.photo,rounded:"circle",top:""}}):e._e(),t("b-card-title",[e._v(" "+e._s(s.name)+" "),void 0!=s.neurones&&s.neurones.length>0?t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.add(s)}}},[e._v(" follow ")]):e._e()],1),t("small",[t("a",{attrs:{href:s.webId,target:"_blank"}},[e._v(e._s(s.webId.split("/")[2]))])]),void 0==s.neurones||0==s.neurones.length||void 0==s.workspaces||0==s.workspaces.length?t("b-card-text",[e._v(" "+e._s(s.name)+" has no 'Neurone', "),t("b-button",{attrs:{onclick:"alert('invitations are not implemented yet, see source link at the bottom to contribute ;-)')",size:"sm",variant:"outline-dark"}},[e._v("invite him/her/it to use 'Verse'")]),t("br"),e._v("or add "),t("a",{attrs:{href:"https://spoggy-test5.solidcommunity.net/profile/card#me",target:"_blank"}},[e._v(" Spoggy-test5")]),e._v(" to your friends ")],1):e._e(),void 0!=s.friends&&s.friends.length>0?t("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(t){return e.exploreFriendsWorkspaces(s.friends)}}},[e._v(" explore "+e._s(s.friends.length)+" friends ")]):e._e(),void 0!=s.neurones&&s.neurones.length>0||void 0!=s.workspaces&&s.workspaces.length>0?t("b-card-header",[e._l(s.neurones,(function(e,s){return t("NodeR",{key:s,attrs:{url:e}})})),t("hr"),e._v(" workspaces "+e._s(s.workspaces)+" ")],2):e._e()],1)})),1):e._e()],1):e._e()},o=[],r={name:"WorkspacesView",components:{NodeComponent:()=>t.e(619).then(t.bind(t,8619)),NodeR:()=>t.e(123).then(t.bind(t,9123))},data(){return{space:null,loading:0,friends_pods:[]}},methods:{add(e){this.space=void 0==e?{name:"",url:""}:{name:e.name,url:e.neuroneStore}},save(){console.log(this.space),this.$store.dispatch("solid/addWorkspace",this.space),this.space=null},cancel(){this.space=null},use(e){console.log("use",e),this.$changeWorkspace(e)},editNode(e){console.log("edit",e.id),this.$store.commit("nodes/setCurrentNode",e),this.$router.push({name:"edit"})},deleteNode(e){console.log(e)},async exploreFriendsWorkspaces(e){this.loading=e.length,this.friends_pods=[];for(const s of e){let e=await this.$getPodInfos(s);e.neurones=await this.$getNeurones(e.neuroneStore),this.friends_pods.push(e),this.loading--}this.loading,console.log(this.friends_pods)}},computed:{workspaces:{get(){return null!=this.$store.state.solid.pod&&this.$store.state.solid.pod.workspaces},set(){}},currentWorkspace:{get(){return this.$store.state.nodes.currentWorkspace},set(){}},pod:{get(){return this.$store.state.solid.pod},set(){}}}},a=r,i=t(1001),l=(0,i.Z)(a,n,o,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=0.add4efe1.js.map