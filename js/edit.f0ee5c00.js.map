{"version":3,"sources":["webpack:///./src/views/Edit.vue?6d06","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///src/views/Edit.vue","webpack:///./src/views/Edit.vue?b853","webpack:///./src/views/Edit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","modele","attrs","_l","f","key","label","staticClass","type","cat","r","url","name","directives","rawName","value","expression","options","on","$event","add","model","callback","$$v","selected","$set","save","staticRenderFns","_typeof","obj","Symbol","iterator","constructor","prototype","data","fields","created","console","log","$route","params","methods","field","push","computed","cats","$store","state","opts","component"],"mappings":"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","file":"js/edit.f0ee5c00.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Edit \"+_vm._s(_vm.modele)+\" \"),_c('b-container',{attrs:{\"fluid\":\"\"}},[_vm._l((_vm.fields),function(f){return _c('b-row',{key:f.label,staticClass:\"my-1\"},[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',{attrs:{\"for\":(\"field-\" + (f.label))}},[_c('code',[_vm._v(_vm._s(f.label))]),_vm._v(\":\")])]),_c('b-col',{attrs:{\"sm\":\"9\"}},[(f.type=='select')?_c('div',[_vm._l((_vm.cat[f.label]),function(r){return _c('span',{key:r.url},[_vm._v(_vm._s(r.name)+\" \")])}),_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:((\"collapse-\" + (f.label))),expression:\"`collapse-${f.label}`\"}],attrs:{\"variant\":\"primary\"}},[_vm._v(\"+\")]),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":(\"collapse-\" + (f.label))}},[_c('b-card',[_c('b-form-select',{attrs:{\"options\":f.options || _vm.options},on:{\"change\":function($event){return _vm.add((\"\" + (f.label)))}},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1)],2):(f.type=='textarea')?_c('b-form-textarea',{attrs:{\"id\":\"textarea\",\"placeholder\":\"...\",\"rows\":\"3\",\"max-rows\":\"6\"},model:{value:(_vm.cat[f.label]),callback:function ($$v) {_vm.$set(_vm.cat, f.label, $$v)},expression:\"cat[f.label]\"}}):_c('b-form-input',{attrs:{\"id\":(\"field-\" + (f.label)),\"type\":f.type},model:{value:(_vm.cat[f.label]),callback:function ($$v) {_vm.$set(_vm.cat, f.label, $$v)},expression:\"cat[f.label]\"}})],1)],1)}),_c('b-button',{on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","<template>\n  <div>\n    Edit {{modele}}\n    <b-container fluid>\n      <b-row class=\"my-1\" v-for=\"f in fields\" :key=\"f.label\">\n        <b-col sm=\"3\">\n          <label :for=\"`field-${f.label}`\"><code>{{ f.label }}</code>:</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <div v-if=\"f.type=='select'\">\n            <span v-for=\"r in cat[f.label]\" :key=\"r.url\">{{r.name}} </span>\n            <b-button v-b-toggle=\"`collapse-${f.label}`\" variant=\"primary\">+</b-button>\n            <b-collapse :id=\"`collapse-${f.label}`\" class=\"mt-2\">\n              <b-card>\n                <b-form-select\n                @change=\"add(`${f.label}`)\"\n                v-model=\"selected\"\n                :options=\"f.options || options\"\n                >\n              </b-form-select>\n            </b-card>\n          </b-collapse>\n        </div>\n\n        <b-form-textarea\n        v-else-if=\"f.type=='textarea'\"\n        id=\"textarea\"\n        v-model=\"cat[f.label]\"\n        placeholder=\"...\"\n        rows=\"3\"\n        max-rows=\"6\"\n        ></b-form-textarea>\n        <b-form-input v-else v-model=\"cat[f.label]\" :id=\"`field-${f.label}`\" :type=\"f.type\"></b-form-input>\n      </b-col>\n    </b-row>\n    <b-button @click=\"save\">Save</b-button>\n    <!-- {{ cats}}\n    <hr>\n    {{ options}} -->\n  </b-container>\n</div>\n</template>\n\n<script>\nexport default {\n  name: \"Edit\",\n  data() {\n    return {\n      cat:null,\n      selected: null,\n      fields: [\n        {'label': 'name', type: 'text'},\n        {'label': 'content', type: 'text'},\n        {'label': 'age', type: 'number'},\n        {'label': 'property', type: 'select', options: [\"one\", \"two\"]},\n        {'label': 'link', type: 'select'},\n        {'label': 'watch', type: 'select'},\n        {'label': 'send', type: 'select'},\n        {'label': 'action', type: 'textarea'},\n        // 'text',\n        // 'number',\n        // 'email',\n        // 'password',\n        // 'search',\n        // 'url',\n        // 'tel',\n        // 'date',\n        // 'time',\n        // 'range',\n        // 'color'\n      ],\n\n    }\n  },\n  created() {\n    console.log(\"params\",this.$route.params.modele)\n    this.modele = this.$route.params.modele\n    console.log(\"route\",this.$route)\n    if(this.$route.params.cat) {\n      this.cat = this.$route.params.cat;\n      this.modele = this.cat.modele\n    } else {\n      this.cat = { name:'', age: 0 };\n    }\n  },\n  methods: {\n    add(field){\n      console.log(typeof this.cat[field], field, this.selected)\n      this.cat[field] ==  undefined ? this.cat[field] = [] : \"\"\n      //\n      // if (this.cat[field])){\n      //   let new_array = []\n      //   new_array.push(this.cat[field])\n      //   this.cat[field] = new_array\n      // }\n      // console.log(this.cat)\n      this.selected != null ? this.cat[field].push(this.selected) : \"\"\n    },\n    async save() {\n      console.log(this.cat)\n      this.cat.modele = this.modele\n      this.cat.updated = Date.now()\n      await this.$store.dispatch('cats/saveCat', this.cat);\n      console.log('back');\n      this.$router.go(-1);\n    }\n  },\n  computed: {\n    cats() {\n      return this.$store.state.cats.cats;\n    },\n    options() {\n      let opts = this.$store.state.cats.cats.map(c => {return{value: {url:c.url, name:c.name}, text: c.name+\" (\"+c.modele+\")\"}})\n      return opts;\n    }\n  },\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=2fd29bca&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}