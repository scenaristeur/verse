(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["nodes"],{"4c0f":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-button",{attrs:{variant:"outline-primary"},on:{click:e.addNode}},[e._v("Add")]),n("b-row",e._l(e.nodes,(function(t,o){return n("b-col",{key:o},[n("Node",{attrs:{node:t},on:{delete:e.deleteNode,edit:e.editNode}})],1)})),1),e.notBoth.length>0?n("div",[n("h2",[e._v("not both")]),e._v(" "),n("b-table",{attrs:{small:"",responsive:"",striped:"",hover:"",items:e.notBoth,fields:e.fields},scopedSlots:e._u([{key:"cell(id)",fn:function(t){return[e._v(" "+e._s(t.item.local&&t.item.local["ve:name"]||t.item.remote&&t.item.remote["ve:name"])+" "),n("hr"),e._v(" "+e._s(t.item.id)+" ")]}},{key:"cell(update)",fn:function(t){return[n("b-button-toolbar",[n("b-button-group",{staticClass:"mx-1"},[null==t.item.local?n("b-button",{attrs:{variant:"success"},on:{click:function(n){return e.createLocal(t.item.remote)}}},[e._v("«")]):e._e(),null==t.item.remote?n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return e.removeLocal(t.item.local)}}},[e._v("X")]):e._e(),null==t.item.local?n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return e.removeRemote(t.item.remote)}}},[e._v("X")]):e._e(),null==t.item.remote?n("b-button",{attrs:{variant:"success"},on:{click:function(n){return e.createRemote(t.item.local)}}},[e._v("»")]):e._e()],1)],1)]}}],null,!1,1647773375)})],1):e._e(),e.mustUpdate.length>0?n("div",[n("h2",[e._v("must update")]),n("b-table",{attrs:{striped:"",small:"",responsive:"",hover:"",items:e.mustUpdate,fields:e.fields},scopedSlots:e._u([{key:"cell(id)",fn:function(t){return[e._v(" "+e._s(t.item.local&&t.item.local["ve:name"]||t.item.remote&&t.item.remote["ve:name"])+" "),n("hr"),e._v(" "+e._s(t.item.id)+" ")]}},{key:"cell(update)",fn:function(t){return[n("b-button-toolbar",[n("b-button-group",{staticClass:"mx-1"},[n("b-button",{on:{click:function(n){return e.updateLocal(t.item.remote)}}},[e._v("«")]),n("b-button",{on:{click:function(n){return e.updateRemote(t.item.local)}}},[e._v("»")])],1)],1)]}},{key:"cell(local)",fn:function(t){return[n("h5",[e._v(e._s(t.item.local["ve:name"]))]),n("small",[e._v(e._s(new Date(t.item.local["ve:updated"])))]),n("br"),e._v(" "+e._s(JSON.stringify(t.item.local,null,2))+" ")]}},{key:"cell(remote)",fn:function(t){return[n("h5",[e._v(e._s(t.item.remote["ve:name"]))]),n("small",[e._v(e._s(new Date(t.item.remote["ve:updated"])))]),n("br"),e._v(" "+e._s(JSON.stringify(t.item.remote,null,2))+" ")]}}],null,!1,2032768543)})],1):e._e()],1)},r=[],s=n("1da1"),a=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),{name:"Nodes",components:{Node:function(){return n.e("chunk-2d229262").then(n.bind(null,"dbe3"))}},data:function(){return{fields:["id","local","update","remote"]}},created:function(){this.$store.dispatch("nodes/getNodes"),this.$store.commit("nodes/setCurrentNode",null)},methods:{addNode:function(){this.$router.push({name:"edit",params:{modele:this.modele}})},deleteNode:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("delete",e.id),n.next=3,t.$store.dispatch("nodes/deleteNode",e);case 3:t.$store.dispatch("nodes/getNodes");case 4:case"end":return n.stop()}}),n)})))()},editNode:function(e){console.log("edit",e.id),this.$store.commit("nodes/setCurrentNode",e),this.$router.push({name:"edit"})},createLocal:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("create local",e),n.next=3,t.$store.dispatch("nodes/saveNode",e);case 3:return n.next=5,t.$store.dispatch("nodes/getNodes");case 5:return n.next=7,t.$store.commit("nodes/removeNotBoth",e);case 7:case"end":return n.stop()}}),n)})))()},createRemote:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("nodes/saveNode",e);case 2:return n.next=4,t.$store.dispatch("nodes/getNodes");case 4:return n.next=6,t.$store.commit("nodes/removeNotBoth",e);case 6:console.log("create remote",e);case 7:case"end":return n.stop()}}),n)})))()},removeLocal:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("remove local",e);case 1:case"end":return t.stop()}}),t)})))()},removeRemote:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("remove remote",e);case 1:case"end":return t.stop()}}),t)})))()},updateLocal:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("update local",e),n.next=3,t.$store.dispatch("nodes/saveNode",e);case 3:return n.next=5,t.$store.dispatch("nodes/getNodes");case 5:return n.next=7,t.$store.commit("nodes/removeMustUpdate",e);case 7:case"end":return n.stop()}}),n)})))()},updateRemote:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("update remote",e),n.next=3,t.$store.dispatch("nodes/saveNode",e);case 3:return n.next=5,t.$store.dispatch("nodes/getNodes");case 5:return n.next=7,t.$store.commit("nodes/removeMustUpdate",e);case 7:case"end":return n.stop()}}),n)})))()}},computed:{nodes:function(){return this.$store.state.nodes.nodes},notBoth:function(){return this.$store.state.nodes.notBoth},mustUpdate:function(){return this.$store.state.nodes.mustUpdate}}}),c=a,i=n("2877"),u=Object(i["a"])(c,o,r,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=nodes.eb4c0878.js.map