(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0027"],{"9b19":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!=e.pod?n("b-container",[n("b-row",{staticClass:"my-3"},[n("h4",[e._v("Collaboration & Fork on other Workspaces")]),null==e.space?n("b-btn",{staticClass:"mx-2",attrs:{variant:"outline-primary",size:"sm"},on:{click:e.add}},[e._v("+ add a workspace")]):e._e(),n("b-button",{staticClass:"mx-2",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(t){return e.exploreFriendsWorkspaces(e.pod.friends)}}},[e._v(" explore "+e._s(e.pod.friends.length)+" friends")]),e.loading>0?n("span",{staticClass:"mx-2"},[e._v("Loading : "+e._s(e.loading))]):e._e()],1),null!=e.space?n("b-row",[n("b-form-input",{attrs:{placeholder:"workspace name",autofocus:""},model:{value:e.space.name,callback:function(t){e.$set(e.space,"name",t)},expression:"space.name"}}),n("b-form-input",{attrs:{placeholder:"workspace url"},model:{value:e.space.url,callback:function(t){e.$set(e.space,"url",t)},expression:"space.url"}}),n("b-button",{attrs:{variant:"outline-warning"},on:{click:e.cancel}},[e._v("Cancel")]),n("b-button",{attrs:{variant:"outline-success"},on:{click:e.save}},[e._v("Add it")])],1):e._e(),n("b-list-group",[n("b-list-group-item",{attrs:{button:"",variant:"success"},on:{click:function(t){return e.use()}}},[n("b",[e._v("Default")]),e._v(" "+e._s(e.pod.storage)+"public/neurones/")]),e._l(e.workspaces,(function(t){return n("b-list-group-item",{key:t.url,attrs:{button:""},on:{click:function(n){return e.use(t)}}},[n("b",[e._v(e._s(t.name))]),e._v(" "+e._s(t.url)+" ("+e._s(void 0!=t.nodes?t.nodes.length:"--")+") ")])}))],2),null!=e.currentWorkspace?n("div",[n("h1",[e._v(e._s(e.currentWorkspace.name))]),n("small",[e._v(e._s(e.currentWorkspace.url))]),n("b-row",e._l(e.currentWorkspace.nodes,(function(t,s){return n("b-col",{key:s},[n("Node",{attrs:{node:t},on:{delete:e.deleteNode,edit:e.editNode}})],1)})),1)],1):e._e(),n("hr"),e.friends_pods.length>0?n("b-card-group",{attrs:{columns:""}},e._l(e.friends_pods,(function(t){return n("b-card",{key:t.webId},[null!=t.photo?n("b-card-img-lazy",{staticClass:"mb-3",attrs:{src:t.photo,alt:t.photo,rounded:"circle",top:""}}):e._e(),n("b-card-title",[e._v(" "+e._s(t.name)+" "),void 0!=t.neurones&&t.neurones.length>0?n("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(n){return e.add(t)}}},[e._v(" follow ")]):e._e()],1),n("small",[n("a",{attrs:{href:t.webId,target:"_blank"}},[e._v(e._s(t.webId.split("/")[2]))])]),void 0==t.neurones||0==t.neurones.length||void 0==t.workspaces||0==t.workspaces.length?n("b-card-text",[e._v(" "+e._s(t.name)+" has no 'Neurone', "),n("b-button",{attrs:{onclick:"alert('invitations are not implemented yet, see source link at the bottom to contribute ;-)')",size:"sm",variant:"outline-dark"}},[e._v("invite him/her/it to use 'Verse'")]),n("br"),e._v("or add "),n("a",{attrs:{href:"https://spoggy-test5.solidcommunity.net/profile/card#me",target:"_blank"}},[e._v(" Spoggy-test5")]),e._v(" to your friends ")],1):e._e(),void 0!=t.friends&&t.friends.length>0?n("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(n){return e.exploreFriendsWorkspaces(t.friends)}}},[e._v(" explore "+e._s(t.friends.length)+" friends ")]):e._e(),void 0!=t.neurones&&t.neurones.length>0||void 0!=t.workspaces&&t.workspaces.length>0?n("b-card-header",[e._l(t.neurones,(function(e,t){return n("NodeR",{key:t,attrs:{url:e}})})),n("hr"),e._v(" workspaces "+e._s(t.workspaces)+" ")],2):e._e()],1)})),1):e._e()],1):e._e()},o=[],r=n("b85c"),a=n("1da1"),c=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),{name:"Workspaces",components:{Node:function(){return n.e("chunk-2d229262").then(n.bind(null,"dbe3"))},NodeR:function(){return n.e("chunk-2d21d0c6").then(n.bind(null,"d048"))}},data:function(){return{space:null,loading:0,friends_pods:[]}},methods:{add:function(e){this.space=void 0==e?{name:"",url:""}:{name:e.name,url:e.neuroneStore}},save:function(){console.log(this.space),this.$store.dispatch("solid/addWorkspace",this.space),this.space=null},cancel:function(){this.space=null},use:function(e){console.log("use",e),this.$changeWorkspace(e)},editNode:function(e){console.log("edit",e.id),this.$store.commit("nodes/setCurrentNode",e),this.$router.push({name:"edit"})},deleteNode:function(e){console.log(e)},exploreFriendsWorkspaces:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var s,o,a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.loading=e.length,t.friends_pods=[],s=Object(r["a"])(e),n.prev=3,s.s();case 5:if((o=s.n()).done){n.next=17;break}return a=o.value,n.next=9,t.$getPodInfos(a);case 9:return c=n.sent,n.next=12,t.$getNeurones(c.neuroneStore);case 12:c.neurones=n.sent,t.friends_pods.push(c),t.loading--;case 15:n.next=5;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n["catch"](3),s.e(n.t0);case 22:return n.prev=22,s.f(),n.finish(22);case 25:t.loading,console.log(t.friends_pods);case 27:case"end":return n.stop()}}),n,null,[[3,19,22,25]])})))()}},computed:{workspaces:{get:function(){return null!=this.$store.state.solid.pod&&this.$store.state.solid.pod.workspaces},set:function(){}},currentWorkspace:{get:function(){return this.$store.state.nodes.currentWorkspace},set:function(){}},pod:{get:function(){return this.$store.state.solid.pod},set:function(){}}}}),i=c,u=n("2877"),l=Object(u["a"])(i,s,o,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0f0027.e20921fd.js.map